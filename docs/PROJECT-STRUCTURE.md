# ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€è¦‹ç©ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆquote-sysï¼‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ã‚’è©³ç´°ã«èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸŒ³ å…¨ä½“æ§‹é€ 

```
quote-sys/
â”œâ”€â”€ ğŸ“‚ app/                    # Next.js App Router
â”œâ”€â”€ ğŸ“‚ components/             # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ ğŸ“‚ lib/                    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»å…±é€šãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ ğŸ“‚ types/                  # TypeScriptå‹å®šç¾©
â”œâ”€â”€ ğŸ“‚ supabase/               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”œâ”€â”€ ğŸ“‚ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ ğŸ“‚ e2e/                    # E2Eãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ ğŸ“‚ public/                 # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¾¤
```

---

## ğŸ“‚ app/ - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ã‚¢

Next.js App Routerã‚’ä½¿ç”¨ã—ãŸãƒšãƒ¼ã‚¸ã¨APIãƒ«ãƒ¼ãƒˆã‚’æ ¼ç´ã—ã¾ã™ã€‚

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¦å‰‡

- `page.tsx` â†’ ãã®ãƒ‘ã‚¹ã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `layout.tsx` â†’ å­ãƒ«ãƒ¼ãƒˆã«å…±é€šã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- `(ãƒ•ã‚©ãƒ«ãƒ€å)` â†’ URLã«å½±éŸ¿ã—ãªã„ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
- `[id]` â†’ å‹•çš„ãƒ«ãƒ¼ãƒˆï¼ˆURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰

```
app/
â”œâ”€â”€ globals.css              # ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSï¼ˆTailwindè¨­å®šå«ã‚€ï¼‰
â”œâ”€â”€ layout.tsx               # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ•ã‚©ãƒ³ãƒˆãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰
â”œâ”€â”€ page.tsx                 # "/" ãƒ«ãƒ¼ãƒˆï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â”‚
â”œâ”€â”€ ğŸ“‚ (auth)/               # èªè¨¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆURLã«å½±éŸ¿ãªã—ï¼‰
â”‚   â”œâ”€â”€ layout.tsx           # èªè¨¼ãƒšãƒ¼ã‚¸å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ ğŸ“‚ login/
â”‚       â””â”€â”€ page.tsx         # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ "/login"
â”‚
â”œâ”€â”€ ğŸ“‚ (dashboard)/          # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â”œâ”€â”€ layout.tsx           # ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»é€šçŸ¥ãƒ™ãƒ«ã‚’å«ã‚€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ ğŸ“‚ dashboard/
â”‚       â”œâ”€â”€ page.tsx         # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ "/dashboard"
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ projects/     # æ¡ˆä»¶ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ page.tsx     # ä¸€è¦§ "/dashboard/projects"
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ new/
â”‚       â”‚   â”‚   â””â”€â”€ page.tsx # æ–°è¦ä½œæˆ "/dashboard/projects/new"
â”‚       â”‚   â””â”€â”€ ğŸ“‚ [id]/
â”‚       â”‚       â”œâ”€â”€ page.tsx # è©³ç´° "/dashboard/projects/[id]"
â”‚       â”‚       â””â”€â”€ ğŸ“‚ edit/
â”‚       â”‚           â””â”€â”€ page.tsx # ç·¨é›†
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ quotes/       # è¦‹ç©ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ page.tsx     # ä¸€è¦§
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ new/
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ [id]/
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx     # è©³ç´°
â”‚       â”‚   â”‚   â”œâ”€â”€ actions.ts   # Server Actionsï¼ˆæ‰¿èªãƒ»å´ä¸‹ãªã©ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ edit/
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“‚ revise/   # æ”¹è¨‚ç‰ˆä½œæˆ
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ procurement/  # ç™ºæ³¨ãƒ»å…¥è·ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ page.tsx     # é€²æ—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ pending/  # ç™ºæ³¨å€™è£œä¸€è¦§
â”‚       â”‚   â””â”€â”€ ğŸ“‚ receiving/# å…¥è·ç™»éŒ²
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ billing/      # è¨ˆä¸Šç®¡ç†
â”‚       â”‚   â””â”€â”€ page.tsx     # ç”³è«‹ãƒ»æ‰¿èª
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ approvals/    # æ‰¿èªç®¡ç†
â”‚       â”‚   â””â”€â”€ page.tsx     # æ‰¿èªä¸€è¦§ãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ reports/      # ãƒ¬ãƒãƒ¼ãƒˆãƒ»åˆ†æ
â”‚       â”‚   â””â”€â”€ page.tsx     # å£²ä¸Šãƒ»ç²—åˆ©åˆ†æ
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ group-companies/ # ã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾ç®¡ç†
â”‚       â”‚   â””â”€â”€ page.tsx     # ã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾CRM
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‚ profile/      # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â”‚   â””â”€â”€ page.tsx     # ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“‚ settings/     # è¨­å®šãƒ»ãƒã‚¹ã‚¿ç®¡ç†
â”‚           â””â”€â”€ page.tsx     # é¡§å®¢ãƒ»ä»•å…¥å…ˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚
â””â”€â”€ ğŸ“‚ api/                  # APIãƒ«ãƒ¼ãƒˆ
    â”œâ”€â”€ ğŸ“‚ auth/
    â”‚   â””â”€â”€ callback/        # èªè¨¼ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
    â”œâ”€â”€ ğŸ“‚ cron/
    â”‚   â””â”€â”€ long-delay-alert/# é•·æœŸæœªå…¥è·ã‚¢ãƒ©ãƒ¼ãƒˆï¼ˆå®šæœŸå®Ÿè¡Œï¼‰
    â””â”€â”€ ğŸ“‚ email/
        â””â”€â”€ send/            # ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```

### ğŸ’¡ ãƒšãƒ¼ã‚¸è¿½åŠ ã®ä¾‹

æ–°ã—ã„ãƒšãƒ¼ã‚¸ã€Œé¡§å®¢åˆ†æã€ã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š

```
app/(dashboard)/dashboard/customer-analysis/
â””â”€â”€ page.tsx
```

```tsx
// page.tsx
export default async function CustomerAnalysisPage() {
  return (
    <div>
      <h1>é¡§å®¢åˆ†æ</h1>
      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
    </div>
  );
}
```

---

## ğŸ“‚ components/ - UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

å†åˆ©ç”¨å¯èƒ½ãªReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ ¼ç´ã—ã¾ã™ã€‚

```
components/
â”œâ”€â”€ ğŸ“‚ ui/                   # æ±ç”¨UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆshadcn/uiï¼‰
â”‚   â”œâ”€â”€ button.tsx           # ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ card.tsx             # ã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ dialog.tsx           # ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ input.tsx            # å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ select.tsx           # ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹
â”‚   â”œâ”€â”€ table.tsx            # ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”œâ”€â”€ badge.tsx            # ãƒãƒƒã‚¸ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºç”¨ï¼‰
â”‚   â”œâ”€â”€ checkbox.tsx         # ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
â”‚   â”œâ”€â”€ tabs.tsx             # ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
â”‚   â”œâ”€â”€ textarea.tsx         # ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢
â”‚   â”œâ”€â”€ skeleton.tsx         # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚±ãƒ«ãƒˆãƒ³
â”‚   â”œâ”€â”€ sheet.tsx            # ã‚µã‚¤ãƒ‰ã‚·ãƒ¼ãƒˆï¼ˆãƒ‰ãƒ­ãƒ¯ãƒ¼ï¼‰
â”‚   â”œâ”€â”€ calendar.tsx         # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ popover.tsx          # ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ date-picker.tsx      # æ—¥ä»˜é¸æŠ
â”‚   â”œâ”€â”€ pagination.tsx       # ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ form.tsx             # ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ label.tsx            # ãƒ©ãƒ™ãƒ«
â”‚   â”œâ”€â”€ separator.tsx        # åŒºåˆ‡ã‚Šç·š
â”‚   â”œâ”€â”€ alert-dialog.tsx     # ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â””â”€â”€ dropdown-menu.tsx    # ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚
â”œâ”€â”€ ğŸ“‚ layout/               # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé–¢é€£
â”‚   â”œâ”€â”€ sidebar.tsx          # ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ mobile-sidebar.tsx   # ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â””â”€â”€ user-menu.tsx        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆãªã©ï¼‰
â”‚
â”œâ”€â”€ ğŸ“‚ quotes/               # è¦‹ç©é–¢é€£
â”‚   â”œâ”€â”€ approval-actions.tsx     # æ‰¿èªãƒ»å´ä¸‹ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ pdf-generate-button.tsx  # PDFç”Ÿæˆãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ quote-pdf.tsx            # PDFæ–‡æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ quote-filters.tsx        # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ quote-billing-plan.tsx   # è«‹æ±‚è¨ˆç”»
â”‚   â”œâ”€â”€ version-history.tsx      # ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´
â”‚   â””â”€â”€ purchase-order-dialog.tsx# ç™ºæ³¨æ›¸ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚
â”œâ”€â”€ ğŸ“‚ projects/             # æ¡ˆä»¶é–¢é€£
â”‚   â”œâ”€â”€ project-filters.tsx          # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ project-kanban.tsx           # ã‚«ãƒ³ãƒãƒ³ãƒ“ãƒ¥ãƒ¼
â”‚   â”œâ”€â”€ project-activity-entry.tsx   # æ´»å‹•è¨˜éŒ²
â”‚   â””â”€â”€ billing-schedule-planner.tsx # è«‹æ±‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚
â”œâ”€â”€ ğŸ“‚ purchase-orders/      # ç™ºæ³¨æ›¸é–¢é€£
â”‚   â”œâ”€â”€ purchase-order-table.tsx         # ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”œâ”€â”€ purchase-order-create-dialog.tsx # ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ purchase-order-edit-dialog.tsx   # ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ purchase-order-pdf.tsx           # PDFãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ purchase-order-pdf-button.tsx    # PDFå‡ºåŠ›ãƒœã‚¿ãƒ³
â”‚   â””â”€â”€ purchase-order-approval-actions.tsx # æ‰¿èªã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”‚
â”œâ”€â”€ ğŸ“‚ procurement/          # ç™ºæ³¨ç®¡ç†é–¢é€£
â”‚   â”œâ”€â”€ activity-timeline.tsx    # æ´»å‹•ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
â”‚   â”œâ”€â”€ alert-reminder.tsx       # ã‚¢ãƒ©ãƒ¼ãƒˆãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼
â”‚   â””â”€â”€ project-activity-form.tsx# æ´»å‹•ãƒ•ã‚©ãƒ¼ãƒ 
â”‚
â”œâ”€â”€ ğŸ“‚ notifications/        # é€šçŸ¥é–¢é€£
â”‚   â””â”€â”€ notification-bell.tsx    # ãƒ™ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ + é€šçŸ¥ä¸€è¦§
â”‚
â”œâ”€â”€ ğŸ“‚ settings/             # è¨­å®šé–¢é€£
â”‚   â”œâ”€â”€ department-manager.tsx           # éƒ¨é–€ç®¡ç†
â”‚   â”œâ”€â”€ group-company-manager.tsx        # ã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾ç®¡ç†
â”‚   â”œâ”€â”€ group-system-insights.tsx        # ã‚°ãƒ«ãƒ¼ãƒ—ã‚·ã‚¹ãƒ†ãƒ åˆ†æ
â”‚   â””â”€â”€ vendor-consolidation-simulator.tsx # ãƒ™ãƒ³ãƒ€ãƒ¼çµ±åˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼
â”‚
â”œâ”€â”€ ğŸ“‚ departments/          # éƒ¨é–€é–¢é€£
â”‚   â””â”€â”€ department-select.tsx    # éƒ¨é–€é¸æŠ
â”‚
â””â”€â”€ ğŸ“‚ profile/              # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«é–¢é€£
    â””â”€â”€ profile-form.tsx         # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
```

### ğŸ’¡ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆã®è¦ç´„

```tsx
// components/quotes/quote-status-badge.tsx

interface QuoteStatusBadgeProps {
  status: 'draft' | 'pending' | 'approved' | 'rejected';
}

export function QuoteStatusBadge({ status }: QuoteStatusBadgeProps) {
  const colors = {
    draft: 'bg-gray-100 text-gray-800',
    pending: 'bg-yellow-100 text-yellow-800',
    approved: 'bg-green-100 text-green-800',
    rejected: 'bg-red-100 text-red-800',
  };

  return (
    <span className={`px-2 py-1 rounded-full text-sm ${colors[status]}`}>
      {status}
    </span>
  );
}
```

---

## ğŸ“‚ lib/ - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

å…±é€šã®ãƒ­ã‚¸ãƒƒã‚¯ã€ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã‚’æ ¼ç´ã—ã¾ã™ã€‚

```
lib/
â”œâ”€â”€ utils.ts                 # æ±ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆcné–¢æ•°ãªã©ï¼‰
â”œâ”€â”€ document-layout.ts       # æ–‡æ›¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®š
â”‚
â”œâ”€â”€ ğŸ“‚ supabase/             # Supabaseæ¥ç¶š
â”‚   â”œâ”€â”€ client.ts            # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ç”¨æ¥ç¶š
â”‚   â”œâ”€â”€ server.ts            # ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ç”¨æ¥ç¶š
â”‚   â”œâ”€â”€ middleware.ts        # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â””â”€â”€ relations.ts         # ãƒ†ãƒ¼ãƒ–ãƒ«ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚
â”œâ”€â”€ ğŸ“‚ email/                # ãƒ¡ãƒ¼ãƒ«é€ä¿¡
â”‚   â”œâ”€â”€ resend.ts            # Resendã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
â”‚   â”œâ”€â”€ send.ts              # ãƒ¡ãƒ¼ãƒ«é€ä¿¡é–¢æ•°
â”‚   â””â”€â”€ templates.ts         # HTMLãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚
â”œâ”€â”€ ğŸ“‚ pdf/                  # PDFç”Ÿæˆ
â”‚   â””â”€â”€ generate-quote-pdf.ts # è¦‹ç©æ›¸PDFç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
â”‚
â”œâ”€â”€ ğŸ“‚ projects/             # æ¡ˆä»¶é–¢é€£ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ actions.ts           # æ¡ˆä»¶æ“ä½œé–¢æ•°
â”‚
â””â”€â”€ ğŸ“‚ utils/                # ãã®ä»–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    â””â”€â”€ format.ts            # æ—¥ä»˜ãƒ»é‡‘é¡ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```

### ğŸ’¡ ã‚ˆãä½¿ã†é–¢æ•°

```tsx
// lib/utils.ts
import { clsx, type ClassValue } from 'clsx';
import { twMerge } from 'tailwind-merge';

// Tailwindã‚¯ãƒ©ã‚¹ã‚’å®‰å…¨ã«ãƒãƒ¼ã‚¸ã™ã‚‹é–¢æ•°
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

// ä½¿ç”¨ä¾‹
<div className={cn('base-class', isActive && 'active-class')} />
```

---

## ğŸ“‚ types/ - å‹å®šç¾©

TypeScriptã®å‹å®šç¾©ã‚’æ ¼ç´ã—ã¾ã™ã€‚

```
types/
â”œâ”€â”€ database.ts              # Supabaseãƒ†ãƒ¼ãƒ–ãƒ«ã®å‹ï¼ˆè‡ªå‹•ç”Ÿæˆå¯èƒ½ï¼‰
â”œâ”€â”€ document-layout.ts       # æ–‡æ›¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å‹
â””â”€â”€ procurement-activity.ts  # ç™ºæ³¨æ´»å‹•ã®å‹
```

### ğŸ’¡ å‹å®šç¾©ã®ä¾‹

```tsx
// types/database.ts
export type Quote = {
  id: string;
  quote_number: string;
  version: number;
  approval_status: 'draft' | 'pending' | 'approved' | 'rejected';
  total_amount: number;
  created_at: string;
  // ...
};
```

---

## ğŸ“‚ supabase/ - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

Supabaseã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã¨åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã—ã¾ã™ã€‚

```
supabase/
â”œâ”€â”€ seed.sql                 # åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚
â””â”€â”€ ğŸ“‚ migrations/           # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ™‚ç³»åˆ—é †ï¼‰
    â”œâ”€â”€ 20251031112957_initial_schema.sql       # åˆæœŸã‚¹ã‚­ãƒ¼ãƒ
    â”œâ”€â”€ 20251101000001_add_notifications.sql    # é€šçŸ¥ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
    â”œâ”€â”€ 20251102_auth_users_sync.sql            # èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæœŸ
    â”œâ”€â”€ 20251103000001_fix_rls_insert_policy.sql # RLSãƒãƒªã‚·ãƒ¼ä¿®æ­£
    â”œâ”€â”€ 20251103000002_create_documents_bucket.sql # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒã‚±ãƒƒãƒˆ
    â”œâ”€â”€ 20251103000003_purchase_orders.sql      # ç™ºæ³¨æ›¸ãƒ†ãƒ¼ãƒ–ãƒ«
    â”œâ”€â”€ 20251104000001_approval_workflows.sql   # æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
    â”œâ”€â”€ 20251105000001_purchase_orders_manual_items.sql # æ‰‹å‹•ç™ºæ³¨é …ç›®
    â”œâ”€â”€ 20251117000001_add_subject_to_quotes.sql # è¦‹ç©ã«ä»¶åè¿½åŠ 
    â”œâ”€â”€ 20251117000002_add_forecast_fields_to_projects.sql # äºˆæ¸¬ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    â”œâ”€â”€ 20251117000003_create_project_activities.sql # æ¡ˆä»¶æ´»å‹•
    â”œâ”€â”€ 20251119000001_create_company_profile.sql # ä¼šç¤¾ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ 20251120000001_create_project_billing_schedules.sql # è«‹æ±‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    â”œâ”€â”€ 20251120000004_group_company_crm_phase_a.sql # ã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾CRM
    â””â”€â”€ ... ï¼ˆãã®ä»–ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ å…¨34ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
```

### ğŸ’¡ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å‘½åè¦å‰‡

```
{YYYYMMDD}{HHMMSS}_{èª¬æ˜}.sql
ä¾‹: 20251120000001_create_project_billing_schedules.sql
```

---

## ğŸ“‚ e2e/ - E2Eãƒ†ã‚¹ãƒˆ

Playwrightã‚’ä½¿ç”¨ã—ãŸEnd-to-Endãƒ†ã‚¹ãƒˆã‚’æ ¼ç´ã—ã¾ã™ã€‚

```
e2e/
â”œâ”€â”€ fixtures.ts              # ãƒ†ã‚¹ãƒˆå…±é€šè¨­å®š
â”œâ”€â”€ basic-login.spec.ts      # ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ quote-creation.spec.ts   # è¦‹ç©ä½œæˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ approval-flow.spec.ts    # æ‰¿èªãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ billing-flow.spec.ts     # è¨ˆä¸Šãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ procurement-flow.spec.ts # ç™ºæ³¨ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
â””â”€â”€ complete-business-flow.spec.ts # çµ±åˆãƒ†ã‚¹ãƒˆ
```

---

## ğŸ“‚ docs/ - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ ¼ç´ã—ã¾ã™ã€‚

```
docs/
â”œâ”€â”€ ONBOARDING.md            # ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ï¼ˆå…¥é–€è€…å‘ã‘ï¼‰
â”œâ”€â”€ PROJECT-STRUCTURE.md     # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ REQUIREMENTS.md          # è¦ä»¶å®šç¾©æ›¸
â”œâ”€â”€ E2E_TEST_REPORT.md       # E2Eãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
â”œâ”€â”€ è¦‹ç©ã‚·ã‚¹ãƒ†ãƒ ã®å•é¡Œç‚¹.md    # ç¾çŠ¶èª²é¡Œåˆ†æ
â”‚
â””â”€â”€ ğŸ“‚ design/               # ãƒ‡ã‚¶ã‚¤ãƒ³è³‡æ–™
    â””â”€â”€ ...
```

---

## âš™ï¸ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ã‚ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª¬æ˜ã§ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² |
|:---------|:-----|
| `package.json` | ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ npm ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾© |
| `tsconfig.json` | TypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è¨­å®š |
| `next.config.ts` | Next.js è¨­å®š |
| `tailwind.config.ts` | Tailwind CSS è¨­å®šï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰ |
| `postcss.config.mjs` | PostCSS è¨­å®š |
| `eslint.config.mjs` | ESLint è¨­å®š |
| `vitest.config.ts` | Vitest ãƒ†ã‚¹ãƒˆè¨­å®š |
| `playwright.config.ts` | Playwright E2E ãƒ†ã‚¹ãƒˆè¨­å®š |
| `middleware.ts` | Next.js ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆèªè¨¼ãƒã‚§ãƒƒã‚¯ï¼‰ |
| `components.json` | shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­å®š |

---

## ğŸ”— ãƒ•ã‚¡ã‚¤ãƒ«é–“ã®é–¢ä¿‚

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    â†“
middleware.tsï¼ˆèªè¨¼ãƒã‚§ãƒƒã‚¯ï¼‰
    â†“
app/(dashboard)/dashboard/quotes/page.tsxï¼ˆãƒšãƒ¼ã‚¸ï¼‰
    â†“
lib/supabase/server.tsï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰
    â†“
components/quotes/approval-actions.tsxï¼ˆUIè¡¨ç¤ºï¼‰
    â†“
types/database.tsï¼ˆå‹ãƒã‚§ãƒƒã‚¯ï¼‰
```

---

## ğŸ“ ã¾ã¨ã‚

| ã‚„ã‚ŠãŸã„ã“ã¨ | ç·¨é›†ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ |
|:-------------|:-----------------|
| æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ  | `app/(dashboard)/dashboard/` |
| UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ  | `components/` |
| å…±é€šãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ  | `lib/` |
| å‹å®šç¾©ã‚’è¿½åŠ  | `types/` |
| DBã‚¹ã‚­ãƒ¼ãƒã‚’å¤‰æ›´ | `supabase/migrations/` |
| ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ  | `e2e/` |

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ29æ—¥
